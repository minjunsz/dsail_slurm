"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[114],{6399:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var i=t(4848),c=t(8453);const o={sidebar_position:2},s="pytorch \uc0ac\uc6a9\ud558\uae30",r={id:"job\uc81c\ucd9c/sbatch with pytorch",title:"pytorch \uc0ac\uc6a9\ud558\uae30",description:"pytorch\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574 slurm script\ub97c \uc218\uc815\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4.",source:"@site/docs/job\uc81c\ucd9c/sbatch with pytorch.md",sourceDirName:"job\uc81c\ucd9c",slug:"/job\uc81c\ucd9c/sbatch with pytorch",permalink:"/dsail_slurm/job\uc81c\ucd9c/sbatch with pytorch",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"sbatch \uae30\ubcf8",permalink:"/dsail_slurm/job\uc81c\ucd9c/sbatch \uae30\ubcf8"},next:{title:"\uc81c\ucd9c\ub41c job \uad00\ub9ac",permalink:"/dsail_slurm/category/\uc81c\ucd9c\ub41c-job-\uad00\ub9ac"}},a={},d=[{value:"conda \uc124\uce58",id:"conda-\uc124\uce58",level:2},{value:"sbatch script \uc218\uc815",id:"sbatch-script-\uc218\uc815",level:2}];function l(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"pytorch-\uc0ac\uc6a9\ud558\uae30",children:"pytorch \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,i.jsx)(e.p,{children:"pytorch\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574 slurm script\ub97c \uc218\uc815\ud558\ub294 \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsxs)(e.mdxAdmonitionTitle,{children:["[",(0,i.jsx)(e.strong,{children:"TL;DR"}),"]"]}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"#SBATCH"}),"\uc5d0 gpu \uc635\uc158\uc744 \ucd94\uac00\ud55c\ub2e4."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"conda activate"})," \uc774\uc804\uc5d0 conda\ub97c \uc2dc\uc791\ud558\ub294 \ucf54\ub4dc\ub97c \ub123\uc5b4\uc900\ub2e4."]}),"\n"]})]}),"\n",(0,i.jsx)(e.h2,{id:"conda-\uc124\uce58",children:"conda \uc124\uce58"}),"\n",(0,i.jsxs)(e.p,{children:["miniconda\ub97c \ud1b5\ud574 python \ud658\uacbd\uc744 \uad00\ub9ac\ud569\ub2c8\ub2e4. miniconda \uc124\uce58 script\ub294 ",(0,i.jsx)(e.code,{children:"/guide/"})," \ud3f4\ub354\uc5d0 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cp /guide/Miniconda3-latest-Linux-x86_64.sh ~\nbash ~/Miniconda3-latest-Linux-x86_64.sh\n"})}),"\n",(0,i.jsx)(e.h2,{id:"sbatch-script-\uc218\uc815",children:"sbatch script \uc218\uc815"}),"\n",(0,i.jsx)(e.p,{children:"\uc218\uc815\ud560 \ubd80\ubd84\uc740 \ud06c\uac8c 2\uac00\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["gpu\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574 ",(0,i.jsx)(e.code,{children:"#SBATCH --gres=gpu:<GPU\uac1c\uc218>"})," \uc124\uc815\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(e.li,{children:"conda\ub97c \uc2dc\uc791\ud558\uace0 \uac00\uc0c1\ud658\uacbd\uc744 \ud65c\uc131\ud654\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["slurm\uc744 \ud1b5\ud574 \uc2e4\ud589\ub41c script\ub294 conda\uac00 \uaebc\uc838\uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc0c1\ud669\uc5d0\uc11c ",(0,i.jsx)(e.code,{children:"conda activate <\uac00\uc0c1\ud658\uacbd_\uc774\ub984>"})," \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uba74 ",(0,i.jsx)(e.code,{children:"CondaError: Run 'conda init' before 'conda activate'"})," \uc624\ub958\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574\uc11c\ub294 ",(0,i.jsx)(e.code,{children:"conda activate"})," \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uae30 \uc804\uc5d0 \uc544\ub798\uc640\uac19\uc774 conda\ub97c \uc2dc\uc791 \ud574\uc8fc\uc5b4\uc57c\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"#! /bin/bash\n#SBATCH -J pytorch_example              # job name\n#SBATCH -p v1                           # queue name\n#SBATCH --gres=gpu:2                    # allocate 2 gpus\n\n. $HOME/miniconda3/etc/profile.d/conda.sh\nconda activate torch\n\npython example.py\n"})})]})}function h(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>r});var i=t(6540);const c={},o=i.createContext(c);function s(n){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:s(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);